<%
  form_options = {
    register: {
      url: users_path,
      method: :post,
      submit: 'Register'
    },
    edit: {
      url: user_path(user),
      method: :patch,
      submit: 'Update'
    }
  }[usage]
%>

<%= form_with(model: user, url: form_options[:url], method: form_options[:method], id: 'user_form', class: 'w-100') do |form| %>
  <%= form.label :username %>
  <%= form.text_field :username, class: 'form-control mb-3' %>

  <%= form.label :email_address %>
  <%= form.email_field :email_address, class: 'form-control mb-3' %>

  <%= form.label :password %>
  <%= form.password_field :password, class: 'form-control mb-3' %>

  <%= form.label :password_confirmation %>
  <%= form.password_field :password_confirmation, class: 'form-control mb-3' %>

  <div class="d-flex justify-content-center mt-3">
    <%= form.submit form_options[:submit], class: 'btn btn-primary px-4' %>
  </div>
<% end %>
